# Глава 3: Функционални домейни

## 3.1 Въведение във функционалните домейни

Платформата JustCases обхваща множество взаимосвързани функционални области, всяка от които е проектирана да отговори на специфични потребности на потребителите и бизнеса. В тази глава ще разгледаме подробно основните функционални домейни на приложението, като обясним тяхната роля, принципи на работа и взаимовръзки.

Функционалните домейни на JustCases могат да бъдат групирани в няколко основни категории. Първата категория обхваща управлението на идентичността и достъпа, включително регистрация, автентикация и управление на потребителски профили. Втората категория е свързана с каталога и търсенето на продукти. Третата категория покрива процеса на пазаруване, включително количката, списъка с желани продукти и процеса на поръчка. Четвъртата категория обхваща следпродажбените дейности като проследяване на поръчки и отзиви. Петата категория включва маркетинговите инструменти като промоционални кодове и бюлетин.

## 3.2 Система за автентикация и управление на потребители

Системата за автентикация е фундаментален компонент на платформата, който осигурява сигурен достъп до потребителските акаунти и защита на личните данни. Тя е проектирана с мисълта за баланс между сигурност и удобство за потребителите.

Процесът на регистрация позволява на новите потребители да създадат акаунт в платформата. При регистрация потребителят предоставя своето име, имейл адрес и парола. Имейл адресът служи като уникален идентификатор на акаунта и се използва за комуникация с потребителя. Паролата се хешира с помощта на bcrypt преди да бъде съхранена в базата данни, което гарантира, че дори при компрометиране на базата данни, оригиналните пароли не могат да бъдат възстановени.

След успешна регистрация системата изпраща имейл за потвърждение на адреса. Това е важна стъпка за верификация, която гарантира, че потребителят действително контролира посочения имейл адрес. Верификацията се осъществява чрез уникален токен, включен в линк за потвърждение. Когато потребителят кликне върху линка, токенът се валидира и акаунтът се маркира като верифициран. Токенът има ограничен срок на валидност от двадесет и четири часа, след което изтича и потребителят трябва да поиска нов.

Процесът на влизане в системата изисква потребителят да предостави своя имейл адрес и парола. Системата търси потребител с посочения имейл и сравнява предоставената парола с хешираната версия в базата данни. При успешно съвпадение се създава сесия и потребителят получава достъп до своя акаунт. При неуспех се показва общо съобщение за грешка, което не разкрива дали проблемът е в имейла или паролата, за да се предотврати изброяването на валидни акаунти от злонамерени лица.

Управлението на потребителския профил позволява на потребителите да преглеждат и редактират своята информация. Те могат да променят името си, телефонния номер, датата на раждане и други данни. Промяната на паролата изисква въвеждане на текущата парола за верификация, преди да бъде приета новата. Потребителите могат също да управляват своите адреси за доставка и платежни методи.

Системата поддържа и функционалност за възстановяване на забравена парола. Потребителят въвежда своя имейл адрес и системата изпраща линк за нулиране на паролата. Този линк съдържа уникален токен, който позволява еднократна промяна на паролата. Токенът има ограничен срок на валидност и става невалиден след използване.

## 3.3 Каталог с продукти и категории

Каталогът с продукти е сърцето на платформата за електронна търговия. Той предоставя структуриран преглед на всички налични продукти и позволява на потребителите лесно да намират това, което търсят.

Продуктите в JustCases са организирани в категории, които улесняват навигацията. Всяка категория има име, описание и незадължително изображение. Категориите могат да бъдат йерархични, като например основна категория за калъфи с подкатегории за различни модели телефони. Тази структура позволява логично групиране на продуктите и интуитивна навигация за потребителите.

Всеки продукт има богат набор от атрибути, които го описват. Основната информация включва име, подробно описание и цена. Продуктите могат да имат множество изображения, които показват различни ъгли и детайли. Системата съхранява информация за наличността на продукта, която се актуализира автоматично при извършване на поръчки.

Някои продукти могат да бъдат маркирани като препоръчани, което ги показва на видно място на началната страница и в специални секции. Тази функционалност позволява на администраторите да промотират нови или популярни продукти и да насочват вниманието на клиентите към определени артикули.

Всеки продукт има уникален идентификатор и така наречен слъг, който е човешки четима версия на името, използвана в URL адресите. Например продукт с име Премиум силиконов калъф би имал слъг като премиум-силиконов-калъф. Това подобрява четимостта на адресите и допринася за оптимизацията за търсачки.

Търсенето на продукти позволява на потребителите да намират артикули по ключови думи. Системата търси съвпадения в името и описанието на продуктите и връща релевантни резултати. Търсенето е проектирано да бъде бързо и да предоставя полезни резултати дори при частични или неточни заявки.

Филтрирането на продукти позволява стесняване на резултатите по различни критерии. Потребителите могат да филтрират по категория, ценови диапазон, наличност и други характеристики. Филтрите могат да се комбинират, за да се получат максимално релевантни резултати. Системата показва броя на продуктите, отговарящи на избраните критерии.

Сортирането на продукти предоставя различни опции за подреждане на резултатите. Потребителите могат да сортират по цена във възходящ или низходящ ред, по дата на добавяне за намиране на най-новите продукти, или по популярност, базирана на продажби и оценки.

## 3.4 Количка за пазаруване

Количката за пазаруване е централен елемент от процеса на покупка. Тя позволява на потребителите да събират желаните продукти преди да пристъпят към плащане и предоставя преглед на общата стойност на планираната покупка.

Добавянето на продукти в количката е интуитивен процес. От страницата на продукта или от списъчния изглед потребителите могат да добавят артикули с едно кликване. Количеството по подразбиране е едно, но може да бъде променено преди добавяне или впоследствие от страницата на количката.

Количката поддържа персистентност, което означава, че нейното съдържание се запазва между сесиите. За неаутентикирани потребители данните се съхраняват в локалното хранилище на браузъра. При влизане в акаунта съдържанието на локалната количка се синхронизира с количката на сървъра, като се обединяват артикулите от двете. Това осигурява безпроблемно изживяване за потребители, които започват да пазаруват като гости и впоследствие се регистрират или влизат в акаунта си.

Страницата на количката показва списък на всички добавени продукти с техните изображения, имена, единични цени и количества. Потребителите могат да променят количеството на всеки артикул или да го премахнат от количката. Системата автоматично преизчислява общата стойност при всяка промяна.

Ако продукт стане недостъпен или количеството му е намаляло под заявеното, системата информира потребителя и предлага опции за справяне със ситуацията. Това предотвратява проблеми по време на завършване на поръчката и осигурява прозрачност за наличността.

## 3.5 Списък с желани продукти

Списъкът с желани продукти, често наричан уишлист, позволява на потребителите да запазват продукти, които ги интересуват, за бъдещо разглеждане или покупка. Тази функционалност е особено полезна за потребители, които искат да следят определени артикули, но не са готови да ги купят веднага.

Добавянето на продукти към списъка с желания е лесно и може да се направи от страницата на продукта или от списъчния изглед на каталога. Продуктът се запазва в списъка на потребителя и може да бъде прегледан по-късно.

За разлика от количката, списъкът с желания изисква потребителят да бъде автентикиран. Това е така, защото списъкът е свързан с профила на потребителя и се съхранява на сървъра. По този начин списъкът е достъпен от всяко устройство, от което потребителят влезе в акаунта си.

От страницата на списъка с желания потребителите могат да преглеждат запазените продукти, да ги премахват или да ги прехвърлят директно в количката. Системата показва актуалната цена и наличност на продуктите, така че потребителите могат да видят дали има промени от момента на добавяне.

## 3.6 Процес на поръчка

Процесът на поръчка, известен още като чекаут, е критична част от потребителското пътуване. Той трансформира съдържанието на количката в реална поръчка и обработва плащането. Процесът е проектиран да бъде възможно най-прост и ефективен, за да се минимизират изоставените количка.

Първата стъпка от процеса е въвеждането на информация за доставка. Потребителят посочва адрес, на който да бъде изпратена поръчката. Ако потребителят има запазени адреси в профила си, той може да избере някой от тях. В противен случай може да въведе нов адрес, който опционално да бъде запазен за бъдещи поръчки.

Втората стъпка е изборът на метод за плащане. Платформата поддържа различни методи, включително онлайн плащане чрез PayPal и плащане с наложен платеж. Всеки метод има своите характеристики и потребителят може да избере този, който му е най-удобен.

Преди финализиране на поръчката потребителят вижда обобщена информация, включваща списък на продуктите, цените, разходите за доставка и общата сума. Ако потребителят има промоционален код, той може да го приложи на тази стъпка за получаване на отстъпка.

При потвърждаване на поръчката системата обработва плащането, създава записа на поръчката в базата данни, актуализира наличностите на продуктите и изпраща имейл потвърждение до клиента. Целият процес е защитен срещу конкурентни проблеми, като например двойно подаване на поръчката или надхвърляне на наличните количества.

## 3.7 Управление на поръчки и проследяване

След извършване на поръчка клиентите имат достъп до информация за нейния статус и прогрес. Системата за управление на поръчки позволява проследяване на всеки етап от обработката и доставката.

Всяка поръчка има уникален идентификатор, който служи като референция при комуникация между клиента и екипа за поддръжка. Поръчките преминават през различни статуси, които отразяват техния текущ етап на обработка.

Началният статус е чакаща, което означава, че поръчката е получена и очаква обработка. Следващият статус е обработва се, което индикира, че екипът работи по подготовката на поръчката. Статус изпратена означава, че пратката е предадена на куриерската служба и е на път към клиента. Финалният положителен статус е доставена, потвърждаващ успешното получаване от клиента. В случай на проблеми поръчката може да получи статус отказана.

При всяка промяна на статуса системата записва събитието в историята на поръчката, включително датата, часа и евентуални бележки. Тази история осигурява пълна проследимост и помага при разрешаване на спорове или проблеми.

Клиентите получават автоматични имейл уведомления при промяна на статуса на поръчката. Тези уведомления съдържат актуална информация за статуса и, когато е приложимо, данни за проследяване на пратката.

Страницата за проследяване позволява на клиентите да видят детайлите на своята поръчка, включително списъка с продукти, адреса за доставка, общата сума и историята на статусите. Ако е наличен номер за проследяване от куриерската служба, той също се показва с линк към системата на куриера за детайлно проследяване.

## 3.8 Система за отзиви и оценки

Отзивите и оценките от клиенти са важен елемент от платформата за електронна търговия. Те помагат на потенциалните купувачи да вземат информирани решения и предоставят ценна обратна връзка за продуктите.

Само регистрирани потребители, които са закупили даден продукт, могат да оставят отзив за него. Това правило гарантира автентичността на отзивите и предотвратява злоупотреби. Системата автоматично проверява дали потребителят има завършена поръчка, съдържаща съответния продукт.

Всеки отзив съдържа оценка по скала от една до пет звезди и текстов коментар. Потребителите могат да опишат своя опит с продукта, да посочат предимства и недостатъци и да дадат препоръки на други потенциални купувачи.

Отзивите, оставени от верифицирани купувачи, се маркират специално, за да се отличат от другите. Това помага на потребителите да идентифицират най-надеждните мнения.

Администраторите имат възможност да преглеждат и модерират отзивите. Те могат да одобряват нови отзиви, да редактират неподходящо съдържание или да премахват отзиви, които нарушават правилата на платформата.

На страницата на всеки продукт се показва обобщена оценка, изчислена като средноаритметично от всички отзиви, заедно с общия брой отзиви. Потребителите могат да прочетат индивидуалните отзиви и да ги сортират по дата или полезност.

## 3.9 Промоционални кодове и отстъпки

Системата за промоционални кодове позволява на бизнеса да предлага отстъпки на клиентите като част от маркетинговите кампании. Кодовете могат да бъдат разпространявани чрез бюлетин, социални мрежи или други канали.

Всеки промоционален код има уникален идентификатор, процент на отстъпка и опционални ограничения. Ограниченията могат да включват минимална стойност на поръчката, максимален брой използвания, срок на валидност или ограничение за еднократна употреба на клиент.

При въвеждане на код в процеса на поръчка системата валидира кода и проверява дали са изпълнени всички условия. Ако кодът е валиден, отстъпката се прилага автоматично и се отразява в общата сума. Ако кодът е невалиден или условията не са изпълнени, се показва подходящо съобщение.

Администраторите могат да създават и управляват промоционални кодове чрез административния панел. Те могат да проследяват използването на всеки код, да деактивират неактуални кодове и да анализират ефективността на различните кампании.

## 3.10 Бюлетин и имейл комуникация

Бюлетинът е важен канал за комуникация с клиентите и за поддържане на връзка с аудиторията. Чрез него бизнесът може да информира абонатите за нови продукти, специални оферти и други новини.

Посетителите на сайта могат да се абонират за бюлетина, като въведат своя имейл адрес във формата за абонамент. Системата изпраща приветствен имейл, потвърждаващ абонамента и описващ какво да очакват абонатите.

Администраторите могат да създават и изпращат бюлетини до всички абонати или до избрани сегменти. Бюлетините могат да бъдат обикновени съобщения или промоционални имейли с индивидуални кодове за отстъпка за всеки получател.

Всеки бюлетин и имейл съдържа линк за отписване, който позволява на получателите лесно да се отпишат, ако вече не желаят да получават съобщения. Това е важно както за спазване на регулациите за електронна комуникация, така и за поддържане на добра репутация на изпращача.

Системата поддържа и транзакционни имейли, които се изпращат автоматично в отговор на определени събития. Те включват потвърждение на регистрация, потвърждение на поръчка, уведомления за промяна на статус и напомняния за забравена парола.

## 3.11 Контактна форма и обратна връзка

Контактната форма предоставя на посетителите лесен начин да се свържат с екипа на платформата. Тя може да се използва за въпроси, предложения, жалби или други видове комуникация.

При изпращане на съобщение чрез контактната форма информацията се записва в базата данни и се изпраща уведомление до екипа за поддръжка. Записът съдържа името на подателя, имейл адреса, темата и съдържанието на съобщението, както и датата и часа на изпращане.

Администраторите могат да преглеждат получените съобщения в административния панел. Те могат да маркират съобщенията като прочетени, да добавят бележки и да проследяват отговорите.

## 3.12 Наскоро разгледани продукти

Функционалността за наскоро разгледани продукти подобрява потребителското изживяване, като позволява на потребителите лесно да се върнат към продукти, които са разглеждали преди това.

Системата автоматично записва всяко посещение на страница на продукт и съхранява тази информация локално в браузъра на потребителя. Записва се ограничен брой последни разгледани продукти, за да се избегне претоварване на хранилището.

На страницата на всеки продукт и на началната страница може да се покаже секция с наскоро разгледани продукти. Това улеснява сравняването на продукти и вземането на решение за покупка.

## 3.13 Заключение на главата

Функционалните домейни на JustCases работят заедно, за да осигурят пълноценно и приятно изживяване за пазаруване. От регистрацията и разглеждането на каталога, през добавянето на продукти в количката и завършването на поръчката, до проследяването на доставката и оставянето на отзив, всяка стъпка е проектирана с мисълта за потребителя.

В следващата глава ще разгледаме подробно системите за плащания и интеграциите с външни услуги.

---

*Продължение в Глава 4: Плащания и интеграции*

